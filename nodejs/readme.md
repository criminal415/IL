# Node.js 는 CHrome V8 Javascript 엔진으로 빌드된 Javascript 런타임!
 >런타임은 특정 언어로 만든 프로그램들을 실행할 수 있는 환경을 뜻한다. <br>
   쉽게 말해 노드는 자바스크립트 실행기!
## 이벤트 기반(event-driven)

> 이벤트 기반이란 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미!
 특정 이벤트가 발생할 때 무엇을 할지 미리 등록해두어야 한다.
 이를 이벤트 리스너에 콜백 함수를 등록한다고 표현한다.
 발생한 이벤트가 없거나 발생했던 이벤트를 다 처리하면, 노드는 다음 이벤트가 발생
 할 때까지 대기한다.

- 이벤트 루프
 이벤트 발생 시 호출할 콜백 함수들을 관리, 호출된 콜백 함수의 실행순서를 결정 <br>
- 백그라운드
 setTimeout과 같은 타이머나 이벤트 리스너들이 대기하는곳, java script가 아닌 다른 언어로 <br>
 작성된 프로그램이며 여러작업이 동시에 실행될 수 있다. <br>
- task que
 이벤트 발생 후, background에서 task que로 콜백함수를 보내고 정해진 순서대로 콜백들이 정렬한다. <br>
 (콜백 큐라고 부르기도 한다.)
 콜백함수는 보통 완료된 순서대로 줄을 서 있지만 특정한 경우 순서가 바뀌기도 한다. <br>

[전역 컨텍스트](https://github.com/criminal415/IL/blob/main/nodejs/appendix/global_context.md)
## 논 블로킹 I/O

> node.js는 기본적으로 single thread, none blocking 모델(java script언어의 특성이기도 하다)을 사용한다.

- 논 블로킹 
 이전 작업이 완료될 떄까지 대기하지 않고 다음 작업을 수행함
- 블로킹
 이전 작업이 끝나야만 다음 작업을 수행

파일 시스템 접근(파일 읽기, 파일 쓰기, 폴더 만들기등)이나 네트워크를 통한 요청등의 작업이<br>
I/O의 일종이며 블로킹 방식보다 논 블로킹 방식이 작업을 더 짧은 시간에 처리할 수 있다.<br>
(이 때 작업들은 모두 동시에 처리될 수 있는 작업이여야 한다.) <br>
이러한 작업은 백그라운드에서 처리된다.<br>
node에서 동기와 블로킹이 유사하고 비동기와 논 블로킹이 유사하다.<br>
## 싱글 스레드
노드를 실행하면 프로세스가 하나 생성되고 그 프로세스에서 스레드들을 생성하는데, <br>
이 때 내부적으로 스레드가 여러 개 생성되나 우리가 직접 제어할 수 있는 스레드는 하나뿐이다.<br>
반대로 멀티 스레드는 여러개의 일을 동시에 처리할 수 있지만 비용이 발생한다.<br>
(음식점에 종업원이 한명있는것과 여러명 있는것으로 비유)따라서 싱글 스레드는 논 블로킹 모델을<br> 
사용함으로써 비용을 줄이고 효율적으로 작업을 처리할 수 있다.(주의! 하나뿐인 스레드가 멈추지 않도록 해야함 ㅠㅠ)<br>
*{노드가 싱글 스레드로 동작하지 않는 두가지 경우!! 스레드풀(암호화, 파일 입출력, 압축), <br>
워커 스레드(노드 12버전에서 CPU작업이 많은 경우)}<br>
